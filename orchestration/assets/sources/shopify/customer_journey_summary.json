{
  "stream": "customer_journey_summary",
  "options": {
    "sync_modes": [
      "full_refresh",
      "incremental"
    ],
    "destination_sync_modes": [
      "overwrite",
      "append",
      "append_dedup"
    ]
  },
  "defaults": {
    "primary_key": [
      [
        "order_id"
      ]
    ],
    "cursor_field": [
      "updated_at"
    ]
  },
  "fields": {
    "updated_at": {
      "type": "string",
      "description": "The date and time when the order was last updated.",
      "format": "date-time"
    },
    "customer_journey_summary": {
      "type": "object",
      "description": "Represents a customer's visiting activities on a shop's online store.",
      "properties": {
        "last_visit": {
          "type": "object",
          "description": "The last session before an order is made.",
          "properties": {
            "occurred_at": {
              "type": "string",
              "description": "The date and time when the customer's session occurred.",
              "format": "date-time"
            },
            "referral_code": {
              "type": "string",
              "description": "Marketing referral code from the link that the customer clicked to visit the store."
            },
            "admin_graphql_api_id": {
              "type": "string",
              "description": "Unique identifier for the customer in the Admin GraphQL API."
            },
            "landing_page": {
              "type": "string",
              "description": "URL of the first page the customer landed on for the session."
            },
            "landing_page_html": {
              "type": "string",
              "description": "Landing page information with URL linked in HTML. For example, the first page the customer visited was"
            },
            "source_type": {
              "type": "string",
              "description": "Type of marketing tactic."
            },
            "id": {
              "type": "integer",
              "description": "A globally-unique ID."
            },
            "source": {
              "type": "string",
              "description": "Source from which the customer visited the store, such as a platform (Facebook, Google), email, direct, a website domain, QR code, or unknown."
            },
            "referrer_url": {
              "type": "string",
              "description": "Webpage where the customer clicked a link that sent them to the online store."
            },
            "utm_parameters": {
              "type": "object",
              "description": "A set of UTM parameters gathered from the URL parameters of the referrer.",
              "properties": {
                "campaign": {
                  "type": "string",
                  "description": "The name of a marketing campaign."
                },
                "term": {
                  "type": "string",
                  "description": "Paid search terms used by a marketing campaign."
                },
                "medium": {
                  "type": "string",
                  "description": "The medium of a marketing campaign, such as a banner or email newsletter."
                },
                "source": {
                  "type": "string",
                  "description": "The source of traffic to the merchant's store, such as Google or an email newsletter."
                },
                "content": {
                  "type": "string",
                  "description": "Identifies specific content in a marketing campaign. Used to differentiate between similar content or links in a marketing campaign to determine which is the most effective."
                }
              }
            },
            "source_description": {
              "type": "string",
              "description": "Describes the source explicitly for first or last session."
            }
          }
        },
        "first_visit": {
          "type": "object",
          "description": "The customer's first session going into the shop.",
          "properties": {
            "occurred_at": {
              "type": "string",
              "description": "The date and time when the customer's session occurred.",
              "format": "date-time"
            },
            "referral_code": {
              "type": "string",
              "description": "Marketing referral code from the link that the customer clicked to visit the store."
            },
            "admin_graphql_api_id": {
              "type": "string",
              "description": "Unique identifier for the customer in the Admin GraphQL API."
            },
            "landing_page": {
              "type": "string",
              "description": "URL of the first page the customer landed on for the session."
            },
            "landing_page_html": {
              "type": "string",
              "description": "Landing page information with URL linked in HTML. For example, the first page the customer visited was"
            },
            "source_type": {
              "type": "string",
              "description": "Type of marketing tactic."
            },
            "id": {
              "type": "integer",
              "description": "A globally-unique ID."
            },
            "source": {
              "type": "string",
              "description": "Source from which the customer visited the store, such as a platform (Facebook, Google), email, direct, a website domain, QR code, or unknown."
            },
            "referrer_url": {
              "type": "string",
              "description": "Webpage where the customer clicked a link that sent them to the online store."
            },
            "utm_parameters": {
              "type": "object",
              "description": "A set of UTM parameters gathered from the URL parameters of the referrer.",
              "properties": {
                "campaign": {
                  "type": "string",
                  "description": "The name of a marketing campaign."
                },
                "term": {
                  "type": "string",
                  "description": "Paid search terms used by a marketing campaign."
                },
                "medium": {
                  "type": "string",
                  "description": "The medium of a marketing campaign, such as a banner or email newsletter."
                },
                "source": {
                  "type": "string",
                  "description": "The source of traffic to the merchant's store, such as Google or an email newsletter."
                },
                "content": {
                  "type": "string",
                  "description": "Identifies specific content in a marketing campaign. Used to differentiate between similar content or links in a marketing campaign to determine which is the most effective."
                }
              }
            },
            "source_description": {
              "type": "string",
              "description": "Describes the source explicitly for first or last session."
            }
          }
        },
        "moments": {
          "type": "array",
          "description": "The events preceding a customer's order, such as shop sessions.",
          "items": {
            "occurred_at": {
              "type": "string",
              "description": "The date and time when the customer's session occurred.",
              "format": "date-time"
            },
            "referral_code": {
              "type": "string",
              "description": "Marketing referral code from the link that the customer clicked to visit the store."
            },
            "admin_graphql_api_id": {
              "type": "string",
              "description": "Unique identifier for the customer in the Admin GraphQL API."
            },
            "landing_page": {
              "type": "string",
              "description": "URL of the first page the customer landed on for the session."
            },
            "landing_page_html": {
              "type": "string",
              "description": "Landing page information with URL linked in HTML. For example, the first page the customer visited was"
            },
            "source_type": {
              "type": "string",
              "description": "Type of marketing tactic."
            },
            "id": {
              "type": "integer",
              "description": "A globally-unique ID."
            },
            "source": {
              "type": "string",
              "description": "Source from which the customer visited the store, such as a platform (Facebook, Google), email, direct, a website domain, QR code, or unknown."
            },
            "referrer_url": {
              "type": "string",
              "description": "Webpage where the customer clicked a link that sent them to the online store."
            },
            "utm_parameters": {
              "type": "object",
              "description": "A set of UTM parameters gathered from the URL parameters of the referrer.",
              "properties": {
                "campaign": {
                  "type": "string",
                  "description": "The name of a marketing campaign."
                },
                "term": {
                  "type": "string",
                  "description": "Paid search terms used by a marketing campaign."
                },
                "medium": {
                  "type": "string",
                  "description": "The medium of a marketing campaign, such as a banner or email newsletter."
                },
                "source": {
                  "type": "string",
                  "description": "The source of traffic to the merchant's store, such as Google or an email newsletter."
                },
                "content": {
                  "type": "string",
                  "description": "Identifies specific content in a marketing campaign. Used to differentiate between similar content or links in a marketing campaign to determine which is the most effective."
                }
              }
            },
            "source_description": {
              "type": "string",
              "description": "Describes the source explicitly for first or last session."
            }
          }
        },
        "customer_order_index": {
          "type": "integer",
          "description": "The position of the current order within the customer's order history. Test orders aren't included."
        },
        "days_to_conversion": {
          "type": "integer",
          "description": "The number of days between the first session and the order creation date. The first session represents the first session since the last order, or the first session within the 30 day attribution window, if more than 30 days have passed since the last order."
        },
        "ready": {
          "type": "boolean",
          "description": "Whether the attributed sessions for the order have been created yet."
        },
        "moments_count": {
          "type": "object",
          "description": "The total number of customer moments associated with this order. Returns null if the order is still in the process of being attributed.",
          "properties": {
            "precision": {
              "type": "string",
              "description": "Precision of count, how exact is the value."
            },
            "count": {
              "type": "integer",
              "description": "Count of elements."
            }
          }
        }
      }
    },
    "shop_url": {
      "type": "string",
      "description": "The URL of the shop associated with this customer saved search."
    },
    "admin_graphql_api_id": {
      "type": "string",
      "description": "Unique identifier for the customer in the Admin GraphQL API."
    },
    "created_at": {
      "type": "string",
      "description": "The date and time when the order was created.",
      "format": "date-time"
    },
    "order_id": {
      "type": "integer",
      "description": "The id of the order."
    }
  }
}